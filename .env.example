# 飞书机器人配置示例
# 复制此文件为 .env 并填入你的实际配置

# ============================================================
# 飞书应用配置（必需）
# ============================================================
# 飞书应用 ID（在飞书开放平台获取）
FEISHU_APP_ID=your_app_id_here

# 飞书应用密钥（在飞书开放平台获取）
FEISHU_APP_SECRET=your_app_secret_here

# ============================================================
# AI CLI 配置
# ============================================================
# 目标项目目录（用于 Claude Code CLI 和 Gemini CLI 执行代码操作）
# 示例：E:\IdeaProjects\your-project 或 /home/user/projects/your-project
TARGET_PROJECT_DIR=

# AI 执行超时时间（秒）
# 默认：600（10分钟）
# 说明：CLI 执行器等待 AI 响应的最长时间
AI_TIMEOUT=600

# ============================================================
# AI API 配置（可选，至少配置一个）
# ============================================================
# Claude API 密钥
# 获取地址：https://console.anthropic.com/
# 说明：用于 Claude API 执行器（@claude 或 @api）
CLAUDE_API_KEY=

# Gemini API 密钥
# 获取地址：https://aistudio.google.com/app/apikey
# 说明：用于 Gemini API 执行器（@gemini）
GEMINI_API_KEY=

# OpenAI API 密钥
# 获取地址：https://platform.openai.com/api-keys
# 说明：用于 OpenAI API 执行器（@openai 或 @gpt）
OPENAI_API_KEY=

# OpenAI API 基础 URL（可选）
# 默认：https://api.openai.com/v1
# 说明：用于兼容 OpenAI API 的第三方服务
# 示例：https://api-inference.modelscope.cn/v1（ModelScope）
OPENAI_BASE_URL=

# OpenAI 模型名称
# 默认：gpt-4o
# 说明：指定使用的 OpenAI 模型
# 常用选项：gpt-4o, gpt-4-turbo, gpt-3.5-turbo, qwen-plus（ModelScope）
OPENAI_MODEL=gpt-4o

# ============================================================
# 默认设置
# ============================================================
# 默认 AI 提供商
# 可选值：claude, gemini, openai
# 默认：claude
# 说明：当用户未指定提供商时使用的默认 AI 服务（主要用于API层）
DEFAULT_PROVIDER=claude

# 默认执行层
# 可选值：api（快速响应）, cli（深度代码能力）
# 默认：api
# 说明：当用户未指定执行层时使用的默认执行方式
DEFAULT_LAYER=api

# CLI层专用默认提供商
# 可选值：claude, gemini（留空则自动检测）
# 默认：空（自动检测第一个可用的CLI执行器）
# 说明：当AI判断需要CLI层时，使用此提供商
#   - 如果不设置，系统会自动检测第一个可用的CLI执行器（优先级：claude > gemini）
#   - 适用场景：API层和CLI层想使用不同的提供商
#   - 示例：DEFAULT_PROVIDER=openai（API层用OpenAI），DEFAULT_CLI_PROVIDER=gemini（CLI层用Gemini）
#   - 重要：API层和CLI层是完全不同的工具，不能简单替代
#     * openai/api 存在，但 openai/cli 不存在（OpenAI没有CLI工具）
#     * claude/api 和 claude/cli 是不同的工具
#     * gemini/api 和 gemini/cli 是不同的工具
DEFAULT_CLI_PROVIDER=

# ============================================================
# 智能路由配置
# ============================================================
# 使用AI进行意图分类
# 可选值：true, false
# 默认：true
# 说明：启用后使用AI判断用户意图，决定是否需要CLI层
#   - true: 使用AI分类（推荐，更准确）
#   - false: 使用关键词检测（降级方案）
USE_AI_INTENT_CLASSIFICATION=true

# ============================================================
# 语言配置
# ============================================================
# AI回复语言
# 可选值：zh-CN（简体中文）, zh-TW（繁体中文）, en-US（英语）, ja-JP（日语）, ko-KR（韩语）等
# 默认：空（由AI根据用户输入自动判断）
# 说明：设置后，AI会被要求使用指定语言回复
#   - zh-CN: 中文（简体）
#   - zh-TW: 中文（繁體）
#   - en-US: English
#   - ja-JP: 日本語
#   - ko-KR: 한국어
#   - fr-FR: Français
#   - de-DE: Deutsch
#   - es-ES: Español
#   - 留空: 由AI自动判断使用什么语言
RESPONSE_LANGUAGE=

# ============================================================
# 会话管理配置
# ============================================================
# 会话存储路径
# 默认：./data/sessions.json
# 说明：会话数据的存储位置
SESSION_STORAGE_PATH=./data/sessions.json

# 单个会话最大消息数
# 默认：50
# 说明：超过此数量后自动创建新会话，避免上下文过长
MAX_SESSION_MESSAGES=50

# 会话超时时间（秒）
# 默认：86400（24小时）
# 说明：会话闲置超过此时间后自动过期
SESSION_TIMEOUT=86400

# ============================================================
# 缓存配置
# ============================================================
# 消息去重缓存大小
# 默认：1000
# 说明：用于防止重复处理相同消息的缓存容量
CACHE_SIZE=1000

# ============================================================
# SSL 配置（可选）
# ============================================================
# SSL 证书文件路径
# 默认：空（使用 certifi 提供的证书）
# 说明：自定义 SSL 证书路径，通常不需要配置
SSL_CERT_FILE=

# ============================================================
# 日志配置
# ============================================================
# 日志级别
# 可选值：DEBUG, INFO, WARNING, ERROR, CRITICAL
# 默认：INFO
# 说明：控制日志输出的详细程度
#   - DEBUG: 最详细，包含调试信息
#   - INFO: 一般信息
#   - WARNING: 警告信息
#   - ERROR: 错误信息
#   - CRITICAL: 严重错误
LOG_LEVEL=INFO

# ============================================================
# 测试配置（仅用于测试脚本）
# ============================================================
# 测试用的飞书群聊 ID
# 说明：用于运行集成测试脚本时指定测试群聊
FEISHU_CHAT_ID=

# 测试用的飞书用户 ID
# 说明：用于运行集成测试脚本时指定测试用户
FEISHU_USER_ID=
